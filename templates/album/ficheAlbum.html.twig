{% extends 'base.html.twig' %}

{% block title %}Fiche des albums{% endblock %}

{% block body %}
<h1 class="pt-2 text-center">Fiche des albums</h1>
<hr>
    <div class="card mb-3">
            <h3 class="card-header">{{leAlbum.nom}}</h3>
            <div class="row">
              <div class="col-3 d-flex align-items-center mx-auto">
                  <img class="mx-auto d-block" src=" {{leAlbum.image}} " alt="">
              </div>
              <div class="col">
                  <div class="card-body">
                  <a href="{{path("ficheArtiste", {'id': leAlbum.artiste.id})}}" class="badge badge-success"><h5 class="card-title"> {{leAlbum.artiste.nom}} </h5></a> 
                </div>
                <div class="card-body">
                  <p class="card-text">{{leAlbum.date}} </p>
                </div>

                <ul class="list-group list-group-flush">

                  <li class="list-group-item"> 
                    {% for leStyle in leAlbum.styles %}
                    <span class="badge" style="background-color: red;">{{leStyle.nom}}</span>
                  {% endfor %}
                </li>

                {% set nb = leAlbum.morceaux|length %}
                <li class="list-group-item"> {{nb}} {% if nb >1 %} morceaux {% else %} morceau {% endif %}</li>
                </ul></div>
            </div>
            
          </div>



<table class="table table-hover mx-auto">
  <thead>
    <tr>
      <th scope="col-3">Piste</th>
      <th scope="col-4">Titre</th>
      <th scope="col-1">Note</th>
    </tr>
  </thead>
  <tbody>
    {% for leMorceau in leAlbum.morceaux %}
      <tr>
        <td> {{leMorceau.titre}} </td>
        <td>{{leMorceau.duree}}</td>
      </tr>      
    {% endfor %}
   
  </tbody>
</table>

{% endblock %}
